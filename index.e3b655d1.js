const t={DISAPPEAR:0,NOTHING:1,APPEAR:2,PENDING:3,DISAPPEAR_RESTART:4};function e(t,e){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}window.progress=new class{constructor(e={}){this._el=document.createElement("div"),this._state=t.NOTHING,this._opts={maxWidth:"99.8%",height:"4px",duration:6e4,hideDuration:400,zIndex:"9999",color:"#ff1a59",className:"",timing:"cubic-bezier(0,1,0,1)",position:"top",container:document.body},this._rafId=null,this._timerId=null,this._promises=[],this._delayTimers=[],this._detachListeners=[],this.setOptions(e)}setOptions(t){let i=e(this._opts,t);isNaN(i.maxWidth)||(i.maxWidth+="px"),isNaN(i.height)||(i.height+="px"),i.zIndex=String(i.zIndex),this._el.className=i.className,this._css(e({height:i.height,background:i.color,zIndex:i.zIndex,position:"",left:"",top:"",bottom:""},{top:{position:"fixed",top:"0",left:"0"},bottom:{position:"fixed",bottom:"0",left:"0"}}[i.position]))}_css(t){e(this._el.style,t)}get isInProgress(){return 0!==this._state}start(){switch(this._state){case t.APPEAR:case t.PENDING:case t.DISAPPEAR_RESTART:return;case t.DISAPPEAR:this._state=t.DISAPPEAR_RESTART;return}this._state=t.APPEAR;let e=this._opts,i=`width ${e.duration}ms ${e.timing}`;this._css({width:"0",opacity:"1",transition:i,webkitTransition:i}),e.container.appendChild(this._el),this._rafId=requestAnimationFrame(()=>{this._rafId=requestAnimationFrame(()=>{this._rafId=null,this._state=t.PENDING,this._css({width:this._opts.maxWidth})})})}end(e=!1){switch(this._promises=[],this._delayTimers.splice(0).forEach(clearTimeout),this._state){case t.NOTHING:return;case t.APPEAR:this._state=t.NOTHING,cancelAnimationFrame(this._rafId),this._rafId=null,this._detach();return;case t.DISAPPEAR:case t.DISAPPEAR_RESTART:e?(this._state=t.NOTHING,clearTimeout(this._timerId),this._timerId=null,this._detach()):this._state=t.DISAPPEAR;return}if(e){this._state=t.NOTHING,this._detach();return}this._state=t.DISAPPEAR;let i=this._opts,s=`width 50ms, opacity ${i.hideDuration}ms 150ms`;this._css({width:"100%",opacity:"0",transition:s,webkitTransition:s}),this._timerId=setTimeout(()=>{this._timerId=null;let e=this._state===t.DISAPPEAR_RESTART;this._state=t.NOTHING,this._detach(),e&&this.start()},i.hideDuration+150)}_detach(){this._detachListeners.splice(0).forEach(t=>t()),this._el.parentNode?.removeChild(this._el)}promise(e,{delay:i=0,min:s=100,waitAnimation:h=!1}={}){let a;let r=()=>{s>0&&(e=Promise.all([e,new Promise(t=>setTimeout(t,s))]).then(([t])=>t)),this._promises.push(e),this.start()},n=()=>{let t=this._delayTimers;t.splice(t.indexOf(a)>>>0,1),a=null};i>0?this._delayTimers.push(a=setTimeout(()=>(n(),r()),i)):r();let o=i=>{if(a)return clearTimeout(a),n(),i;let s=h&&this._state!==t.NOTHING?new Promise(t=>this._detachListeners.push(t)).then(()=>i):i,r=this._promises,o=r.indexOf(e);return~o&&(r.splice(o,1),0===r.length&&this.end()),s};return e.then(o,t=>o(Promise.reject(t)))}}({height:5}),window.delay=t=>new Promise(e=>setTimeout(e,t));//# sourceMappingURL=index.e3b655d1.js.map

//# sourceMappingURL=index.e3b655d1.js.map
